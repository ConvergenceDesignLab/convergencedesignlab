webpackJsonp([23899280101116],{104:function(t,e){(function(e){function n(t,e){return null==t?void 0:t[e]}function r(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function o(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function a(){this.__data__=yt?yt(null):{}}function u(t){return this.has(t)&&delete this.__data__[t]}function c(t){var e=this.__data__;if(yt){var n=e[t];return n===G?void 0:n}return st.call(e,t)?e[t]:void 0}function i(t){var e=this.__data__;return yt?void 0!==e[t]:st.call(e,t)}function f(t,e){var n=this.__data__;return n[t]=yt&&void 0===e?G:e,this}function s(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function l(){this.__data__=[]}function p(t){var e=this.__data__,n=w(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():dt.call(e,n,1),!0}function h(t){var e=this.__data__,n=w(e,t);return n<0?void 0:e[n][1]}function d(t){return w(this.__data__,t)>-1}function v(t,e){var n=this.__data__,r=w(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}function y(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function _(){this.__data__={hash:new o,map:new(vt||s),string:new o}}function g(t){return S(this,t).delete(t)}function b(t){return S(this,t).get(t)}function j(t){return S(this,t).has(t)}function m(t,e){return S(this,t).set(t,e),this}function w(t,e){for(var n=t.length;n--;)if(N(t[n][0],e))return n;return-1}function O(t,e){e=k(e,t)?[e]:P(e);for(var n=0,r=e.length;null!=t&&n<r;)t=t[A(e[n++])];return n&&n==r?t:void 0}function E(t){if(!R(t)||M(t))return!1;var e=Q(t)||r(t)?pt:tt;return e.test(C(t))}function T(t){if("string"==typeof t)return t;if(I(t))return gt?gt.call(t):"";var e=t+"";return"0"==e&&1/t==-W?"-0":e}function P(t){return jt(t)?t:bt(t)}function S(t,e){var n=t.__data__;return $(e)?n["string"==typeof e?"string":"hash"]:n.map}function x(t,e){var r=n(t,e);return E(r)?r:void 0}function k(t,e){if(jt(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!I(t))||(U.test(t)||!L.test(t)||null!=e&&t in Object(e))}function $(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function M(t){return!!it&&it in t}function A(t){if("string"==typeof t||I(t))return t;var e=t+"";return"0"==e&&1/t==-W?"-0":e}function C(t){if(null!=t){try{return ft.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function F(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(D);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var u=t.apply(this,r);return n.cache=a.set(o,u),u};return n.cache=new(F.Cache||y),n}function N(t,e){return t===e||t!==t&&e!==e}function Q(t){var e=R(t)?lt.call(t):"";return e==q||e==H}function R(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function B(t){return!!t&&"object"==typeof t}function I(t){return"symbol"==typeof t||B(t)&&lt.call(t)==K}function J(t){return null==t?"":T(t)}function z(t,e,n){var r=null==t?void 0:O(t,e);return void 0===r?n:r}var D="Expected a function",G="__lodash_hash_undefined__",W=1/0,q="[object Function]",H="[object GeneratorFunction]",K="[object Symbol]",L=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,U=/^\w*$/,V=/^\./,X=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Y=/[\\^$.*+?()[\]{}|]/g,Z=/\\(\\)?/g,tt=/^\[object .+?Constructor\]$/,et="object"==typeof e&&e&&e.Object===Object&&e,nt="object"==typeof self&&self&&self.Object===Object&&self,rt=et||nt||Function("return this")(),ot=Array.prototype,at=Function.prototype,ut=Object.prototype,ct=rt["__core-js_shared__"],it=function(){var t=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ft=at.toString,st=ut.hasOwnProperty,lt=ut.toString,pt=RegExp("^"+ft.call(st).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ht=rt.Symbol,dt=ot.splice,vt=x(rt,"Map"),yt=x(Object,"create"),_t=ht?ht.prototype:void 0,gt=_t?_t.toString:void 0;o.prototype.clear=a,o.prototype.delete=u,o.prototype.get=c,o.prototype.has=i,o.prototype.set=f,s.prototype.clear=l,s.prototype.delete=p,s.prototype.get=h,s.prototype.has=d,s.prototype.set=v,y.prototype.clear=_,y.prototype.delete=g,y.prototype.get=b,y.prototype.has=j,y.prototype.set=m;var bt=F(function(t){t=J(t);var e=[];return V.test(t)&&e.push(""),t.replace(X,function(t,n,r,o){e.push(r?o.replace(Z,"$1"):n||t)}),e});F.Cache=y;var jt=Array.isArray;t.exports=z}).call(e,function(){return this}())},215:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}e.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=n(2),s=r(f),l=n(33),p=r(l),h=n(72),d=n(104),v=r(d),y=n(216),_=function(t){var e=t.options,n=c(t,["options"]);return s.default.createElement("select",null,e.map(function(t){return s.default.createElement("option",i({value:t,key:t},n),t)}))},g=function(t){function e(n){o(this,e);var r=a(this,t.call(this,n));(0,y.parseQueryString)(r.props.location.search);return r.state={data:null,projectTags:[],partnerTags:[],selectedTags:[],selectedPartners:[]},r}return u(e,t),e.prototype.componentDidMount=function(){var t=this;(0,h.fetchProjects)().then(function(e){return t.setState({data:e})}),(0,h.fetchTaxonomies)().then(function(e){var n=e.partnerTags,r=e.projectTags;return t.setState({projectTags:r,partnerTags:n})})},e.prototype.render=function(){var t=this.state,e=t.data,n=t.projectTags,r=t.partnerTags,o=Object.keys(n),a=Object.keys(r),u=null;return e&&(u=e.map(function(t){return s.default.createElement("div",{className:"col--xs-4"},s.default.createElement(p.default,{to:"/work/"+t.slug+"/"},s.default.createElement("figure",{key:t.id},s.default.createElement("img",{src:(0,v.default)(t,"acf.banner.image.sizes.thumbnail")}),(0,v.default)(t,"acf.heading.headline"),", ",(0,v.default)(t,"acf.heading.subtitle"))))})),s.default.createElement("div",{className:"nav-offset container"},s.default.createElement("h1",null,"Our Work"),o.length>0&&s.default.createElement(_,{options:o}),a.length>0&&s.default.createElement(_,{options:a}),s.default.createElement("div",{className:"section row--justify-center"},u))},e}(s.default.Component);e.default=g,t.exports=e.default},72:function(t,e,n){"use strict";function r(t){return fetch(t).then(function(t){return t.json()})}function o(){return r(s)}function a(){return r(l)}function u(t){return r(l+"/"+t)}function c(){return Promise.all([r(p),r(h)]).then(function(t){var e=t[0],n=t[1],r=n.reduce(function(t,e){var n=e.id,r=e.count,o=e.name;return t[o]={id:n,count:r},t},{}),o=e.reduce(function(t,e){var n=e.id,r=e.count,o=e.name;return t[o]={id:n,count:r},t},{});return{projectTags:r,partnerTags:o}})}function i(t){return r(s+"?slug="+t).then(function(t){return 0===t.length?null:t[0]})}e.__esModule=!0,e.fetchJson=r,e.fetchProjects=o,e.fetchAcfProjects=a,e.fetchProjectAcfById=u,e.fetchTaxonomies=c,e.fetchProjectBySlug=i;var f="http://api.convergencedesignlab.org/wp-json",s=f+"/wp/v2/projects",l=f+"/acf/v3/projects",p=f+"/wp/v2/partners",h=f+"/wp/v2/project_tags"},216:function(t,e){"use strict";function n(t){var e={};return"string"!=typeof t?e:("?"===t[0]&&(t=t.slice(1)),t.split("&").map(function(t){return t.split("=")}).forEach(function(t){var n=t[0],r=t[1];return e[n]=r}),e)}function r(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=n(t);return void 0!==o[e]?o[e]:r}e.__esModule=!0,e.parseQueryString=n,e.getFromQueryString=r}});
//# sourceMappingURL=component---src-pages-work-js-fc1cff3c0c34649a023e.js.map